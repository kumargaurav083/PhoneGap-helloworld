<!DOCTYPE HTML>

<html>

<head>

    <title>JavaArc Hello Phone Gap</title>

    <script type="text/javascript" charset="utf-8" src="cordova-2.7.0.js"></script>
    <script type="text/javascript">
        /** Called when phonegap javascript is loaded */
        function onDeviceReady() {
            window.resolveLocalFileSystemURI("file:///sdcard", onResolveSuccess, onError);
        }
        function onResolveSuccess(fileEntry) {
            var directoryReader = fileEntry.createReader();
            directoryReader.readEntries(onSuccess, onError);
        }
        function onSuccess(entries) {
            document.getElementById("loading").innerHTML = "";
            var ul = document.getElementById("file-listing");
            for (var index = 0; index < entries.length; index++) {
                var li = document.createElement('li');
                li.innerHTML = entries[index].name;
                ul.appendChild(li);
            }
        }
        function onError() {
            alert('onError!');
        }

        /** Called when browser load this page*/
        function init() {
            document.addEventListener("deviceready", onDeviceReady, false);
        }
    </script>
</head>

<body onload="init()">
    <a href="index.html">Home Page</a>
    <h3>Fetching the SD Card</h3>
    <div id="loading">
        Loading ..
    </div>
    <ul id="file-listing">
    </ul>
</body>

</html>
